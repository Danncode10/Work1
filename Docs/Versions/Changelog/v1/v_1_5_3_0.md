# Version 1.5.3.0: Update EC2 System

## Date
12/24/2025

## What We Did

### Environment Setup
- ✅ Connected to EC2 instance via SSH using downloaded key pair
- ✅ Updated Ubuntu package lists with `sudo apt update`
- ✅ Upgraded all system packages with `sudo apt upgrade -y`
- ✅ Verified system is running Ubuntu 22.04.4 LTS with latest security patches

### Documentation Updates
- None

### Files Created/Modified
- None (system-level updates only)

## Detailed Explanations

### SSH Connection Establishment

**Key Pair Usage:**
- Used the `nutrifriendly-backend-key.pem` file downloaded during EC2 launch
- Set correct permissions with `chmod 400` (required for AWS key pairs)
- Connected using `ssh -i key.pem ubuntu@public-ip` command

**Security Group Configuration:**
The SSH connection was made possible by the security group `nutrifriendly-backend-sg` created during EC2 launch:

- **Inbound Rules:** Allows traffic TO the instance
  - **SSH (port 22):** TCP protocol, source `0.0.0.0/0` (from anywhere) - enables secure shell access
  - **HTTP (port 80):** TCP protocol, source `0.0.0.0/0` - allows web traffic (for future use)
  - **HTTPS (port 443):** TCP protocol, source `0.0.0.0/0` - allows secure web traffic
  - **Custom TCP (port 8000):** TCP protocol, source `0.0.0.0/0` - allows FastAPI testing

- **Outbound Rules:** Allows traffic FROM the instance (default: allow all)

- **Stateful Firewall:** Security groups are stateful - return traffic is automatically allowed

**Why These Ports:**
- **Port 22 (SSH):** Secure administrative access to server
- **Port 80 (HTTP):** Standard web traffic (will serve frontend initially)
- **Port 443 (HTTPS):** Secure web traffic (for production SSL)
- **Port 8000:** FastAPI backend testing before Nginx setup

**Security Notes:**
- SSH uses port 22 as configured in security group
- Connection authenticated using public-key cryptography (more secure than passwords)
- Host key fingerprint verified and accepted for first connection
- Security group acts as a virtual firewall at the instance level

### System Update Process

**Package List Update:**
- `sudo apt update` refreshes the local package index
- Downloads latest package information from Ubuntu repositories
- Ensures system knows about available updates and security patches

**Package Upgrade:**
- `sudo apt upgrade -y` installs all available updates
- `-y` flag automatically answers "yes" to all prompts
- Includes security patches, bug fixes, and feature updates
- May take several minutes depending on number of updates

**Why System Updates Matter:**
- **Security:** Patches known vulnerabilities that could be exploited
- **Stability:** Fixes bugs that might cause crashes or instability
- **Compatibility:** Ensures software we install works with latest system libraries
- **Performance:** May include performance improvements and optimizations

### Ubuntu 22.04.4 LTS Details

**Current System State:**
- Ubuntu version: 22.04.4 LTS (Jammy Jellyfish)
- Linux kernel: 6.2.0 (AWS optimized)
- Architecture: x86_64 (64-bit)
- Cloud environment: Amazon EC2 t3.micro instance

**LTS (Long Term Support) Benefits:**
- 5 years of security updates and support
- Stable, production-ready environment
- Predictable update schedule
- Enterprise-grade reliability

### System Resources

**Instance Specifications:**
- Instance type: t3.micro (free tier eligible)
- vCPUs: 2 (burstable)
- Memory: 1 GB
- Storage: 8 GB gp2 SSD
- Network: Low to moderate

**Storage Breakdown:**
- Root filesystem: 8 GB (ext4)
- Temporary space: Available in /tmp
- Swap: Configured by AWS (if needed)

## Usage Instructions

### Verifying System Updates
After connecting to the instance:
```bash
# Check Ubuntu version
lsb_release -a

# Check kernel version
uname -a

# Check available disk space
df -h

# Check system uptime
uptime
```

### Monitoring Update Process
```bash
# View running processes during updates
top

# Check system logs
sudo journalctl -f
```

## Status/Next Steps

### Current Status
- ✅ SSH connection established successfully
- ✅ System package lists updated
- ✅ All available system packages upgraded
- ✅ Ubuntu 22.04.4 LTS confirmed with latest patches
- ✅ System ready for software installation

### Next Steps
- Install Docker container runtime
- Install Node.js for frontend tooling
- Install Nginx web server
- Install Git for code deployment
- Install Python and development tools
- Verify all installations work correctly

## Notes
The system update process is a critical first step in server setup. It ensures we start with a secure, stable foundation before installing application-specific software. The Ubuntu package management system (apt) handles dependency resolution automatically, making the upgrade process reliable and safe.

## How did we Test if the Code works:
- [x] SSH connection established without errors
- [x] sudo apt update completed successfully
- [x] sudo apt upgrade completed without errors
- [x] System reboot not required (clean upgrade)
- [x] System information verified (Ubuntu version, kernel)
- [x] Basic system commands working (ls, pwd, etc.)
