# Version 1.1.2: Configure AWS Account & IAM Roles (Progress Documentation)

## What We Did

### AWS Account Setup Decision
- ✅ Decided to create a dedicated IAM user instead of using root account for security best practices
- ✅ Named the IAM user "naturalhealth-admin"

### IAM User Creation
- ✅ Signed in to AWS Management Console as root
- ✅ Navigated to IAM service
- ✅ Created new user "naturalhealth-admin" with programmatic access enabled
- ✅ Attached "AdministratorAccess" policy directly to the user for full administrative permissions
- ✅ Created and securely saved Access Key ID and Secret Access Key

### AWS CLI Configuration
- ✅ Installed/configured AWS CLI (already available on system)
- ✅ Ran `aws configure` command
- ✅ Entered Access Key ID and Secret Access Key
- ✅ Set default region to "ap-southeast-1" (Asia Pacific - Singapore, closest to Philippines)
- ✅ Set default output format to "json"
- ✅ Tested configuration with `aws sts get-caller-identity` command
- ✅ Verified successful authentication (received JSON response with user details)

### IAM Roles Creation
- ✅ Navigated to IAM Roles section in AWS Console
- ✅ Created new role with "AWS service" as trusted entity
- ✅ Selected "EC2" as the service for the role
- ✅ Attached managed policies:
  - AmazonEC2FullAccess (for EC2 management)
  - AmazonRDSFullAccess (for database access)
  - CloudWatchFullAccess (for monitoring and logs)
- ✅ Named the role "EC2-NaturalHealth-Role"
- ✅ Added description: "IAM role for EC2 instances running the Natural Health application, providing access to RDS database and CloudWatch monitoring services."
- ✅ Created the role successfully

## Key Decisions Made
- **IAM User vs Root**: Chose IAM user for better security and separation of concerns
- **Region Selection**: Selected ap-southeast-1 for optimal performance in Southeast Asia
- **Permissions**: Used AdministratorAccess for initial setup; can be refined later for least privilege

## Current Status
- AWS account configured with secure IAM user
- AWS CLI ready for programmatic access
- IAM roles created for EC2 instance with necessary permissions
- Stage 1.2 Sub Stage: Configure AWS Account & IAM Roles completed successfully
- Ready to proceed to Stage 2: Database Design & Implementation

## Security Notes
- Access keys stored securely (not committed to git)
- IAM user created with admin access for development setup
- Root account remains untouched for security
- IAM role follows principle of least privilege with specific policies for EC2, RDS, and CloudWatch

## Files/Configurations Updated
- None (AWS configurations are cloud-based and CLI local)

## Next Steps
- Proceed to Stage 2.1: Set up Local PostgreSQL Database
- Define database schema with users and ingredients tables
- Implement database connection and ORM in backend
- Populate with initial ingredient data
