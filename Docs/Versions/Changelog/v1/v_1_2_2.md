# Version 1.2.2: Define Database Schema

## What We Did

### Environment Setup
- ✅ Connected to naturalhealthdb database using psql
- ✅ Created users table with id, email, password_hash, created_at columns
- ✅ Created ingredients table with id, name, benefits, risks, nutrition_facts, dosage, calories, references columns
- ✅ Verified table creation with \dt command

### Documentation Updates
- None

### Files Created/Modified
- None

## Detailed Explanations

### Database Schema Creation
- **Connection**: Used `psql -d naturalhealthdb` to enter PostgreSQL interactive shell
- **Users Table**: Created with SERIAL PRIMARY KEY for auto-incrementing ID, unique email, password hash storage, and automatic timestamp
- **Ingredients Table**: Created with complex data types - TEXT[] arrays for benefits/risks/references, JSONB for nutrition facts, FLOAT for calories
- **Reserved Word Issue**: "references" column required double quotes because it's a PostgreSQL reserved keyword
- **Verification**: Used `\dt` to list tables and confirm both were created successfully

### Table Schemas for Beginners
**Users Table Structure**:
- `id`: Auto-numbering primary key (1, 2, 3...)
- `email`: Unique email address for each user
- `password_hash`: Secure hashed password (never plain text)
- `created_at`: Automatic timestamp when user registers

**Ingredients Table Structure**:
- `id`: Auto-numbering primary key
- `name`: Ingredient name (e.g., "Turmeric")
- `benefits`: Array of health benefits (e.g., ["anti-inflammatory", "antioxidant"])
- `risks`: Array of potential risks or warnings
- `nutrition_facts`: Flexible JSON data for vitamins, minerals, etc.
- `dosage`: Text description of recommended usage
- `calories`: Numeric calorie count per serving
- `references`: Array of scientific sources (quoted due to being a reserved word)

## Current Status
- Stage 2.2 completed successfully: Database schema defined with users and ingredients tables
- Tables are ready to store application data
- Schema follows the requirements from Phase 2 SRS

## Next Steps
- Proceed to Stage 2.3: Implement Database Connection & ORM
- Set up FastAPI connection to PostgreSQL
- Create database models and session management
