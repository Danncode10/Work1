# Version 1.5.2: S3 Bucket Creation for Static Assets

## Date
12/24/2025

## What We Did

### Environment Setup
- ✅ Created IAM group "AWS-FullStack-Deployment" with comprehensive AWS permissions for deployment
- ✅ Added naturalhealth-admin user to the deployment group for secure access management
- ✅ Created S3 bucket "nutrifriendly-assets-dann" in Asia Pacific (Singapore) region
- ✅ Configured bucket with versioning, encryption, and security best practices

### Documentation Updates
- None

### Files Created/Modified
- None (changes made in AWS Management Console)

## Detailed Explanations

### IAM Group Creation for Better Permission Management

**Why Create an IAM Group:**
IAM groups provide a scalable way to manage permissions across multiple users and projects. Instead of attaching policies directly to individual users, groups allow centralized permission management and easier onboarding for future team members or projects.

**AWS-FullStack-Deployment Group Permissions:**
- **AmazonS3FullAccess**: Full access to Amazon S3 for bucket and object management
- **AmazonEC2FullAccess**: Complete access to EC2 instances for server deployment
- **AmazonRDSFullAccess**: Full access to RDS databases for data storage
- **CloudWatchFullAccess**: Comprehensive monitoring and logging capabilities
- **IAMFullAccess**: Permission to manage IAM roles and policies
- **AmazonCognitoPowerUser**: User management capabilities for authentication
- **CloudFrontFullAccess**: CDN distribution management for performance

**Group Benefits:**
- **Reusable**: Can add future developers or deployment users to this group
- **Maintainable**: Change permissions once for the entire group
- **Auditable**: Clear tracking of who has deployment access
- **Scalable**: Easy to add/remove users without policy duplication

### Adding User to Group
The naturalhealth-admin user was added to the AWS-FullStack-Deployment group, granting all necessary permissions through group membership rather than direct policy attachment. This follows AWS IAM best practices for permission management.

### S3 Bucket Creation

**Bucket Configuration:**
- **Name**: nutrifriendly-assets-dann (globally unique)
- **Region**: Asia Pacific (Singapore) - ap-southeast-1 (optimal for user's location)
- **Object Ownership**: ACLs disabled (recommended for security)
- **Block Public Access**: All public access blocked (files stay private until CloudFront setup)
- **Versioning**: Enabled (allows file version history and recovery)
- **Encryption**: Server-side encryption with Amazon S3 managed keys (SSE-S3)

**Security Features:**
- **ACLs Disabled**: Uses bucket policies instead of object-level permissions
- **Public Access Blocked**: Prevents accidental exposure of static assets
- **Encryption**: Automatic encryption of all uploaded files
- **Versioning**: Protection against accidental overwrites or deletions

**Why Singapore Region:**
- Geographic proximity to the user (Asia/Manila timezone)
- Lower latency for development and testing
- Cost-effective for initial deployment
- Can be changed to global regions later if needed

### Bucket Purpose
This S3 bucket will store the static assets (HTML, CSS, JavaScript, images) from the React frontend build. The files will remain private in S3 until CloudFront distribution is configured in later stages, at which point they'll be served globally through the CDN.

## Usage Instructions

### Accessing the Bucket
1. Login to AWS Console as naturalhealth-admin
2. Navigate to S3 service
3. Find bucket: `nutrifriendly-assets-dann`
4. Click to view contents (currently empty, ready for uploads)

### Managing Permissions
- Permissions are managed through the AWS-FullStack-Deployment group
- Add/remove users from the group to control deployment access
- For future projects, create similar groups with appropriate permissions

## Status/Next Steps

### Current Status
- ✅ IAM group created with comprehensive deployment permissions
- ✅ naturalhealth-admin user added to deployment group
- ✅ S3 bucket created with security and performance configurations
- ✅ Bucket ready for static asset uploads
- ✅ Permission structure established for future scalability

### Next Steps
- Upload React build files to the S3 bucket
- Configure CloudFront distribution for public access
- Set up EC2 instance for backend deployment
- Create RDS database for data storage

## Notes
The IAM group approach provides a solid foundation for secure, scalable AWS deployments. The S3 bucket is configured with enterprise-grade security features while maintaining the flexibility needed for development and production use. This setup follows AWS best practices for permission management and resource security.

## How did we Test if the Code works:
- [x] Verified IAM group exists with correct permissions attached
- [x] Confirmed naturalhealth-admin user is member of the group
- [x] Checked that S3 bucket appears in console with correct settings
- [x] Verified bucket properties (versioning, encryption, public access blocked)
- [x] Tested bucket access permissions through group membership
